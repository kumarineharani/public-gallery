(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},20:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a.n(n),r=a(10),o=a.n(r),c=(a(19),a(20),a(26));function i(e){let{setIsAuthenticated:t}=e;const[a,r]=Object(n.useState)(!0),[o,i]=Object(n.useState)(""),[s,u]=Object(n.useState)(""),[d,p]=Object(n.useState)("");return l.a.createElement("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px"}},l.a.createElement("h2",null,a?"Login":"Sign Up"),d&&l.a.createElement("div",{style:{color:"red",marginBottom:"10px"}},d),l.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),p(""),a)try{const e=await c.a.post("http://localhost:5000/auth/login",{username:o,password:s});localStorage.setItem("authToken",e.data.token),t(!0)}catch(n){p("Login failed. Please check your credentials.")}else try{await c.a.post("http://localhost:5000/auth/register",{username:o,password:s}),p("Sign up successful! Please log in."),r(!0)}catch(n){p("Sign up failed. Username might already be in use.")}}},l.a.createElement("input",{type:"text",placeholder:"Username",value:o,onChange:e=>i(e.target.value),required:!0,style:{padding:"8px",marginBottom:"10px",width:"100%"}}),l.a.createElement("input",{type:"password",placeholder:"Password",value:s,onChange:e=>u(e.target.value),required:!0,style:{padding:"8px",marginBottom:"10px",width:"100%"}}),l.a.createElement("button",{type:"submit",style:{padding:"10px 15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"100%"}},a?"Login":"Sign Up")),l.a.createElement("button",{onClick:()=>{r(!a),p("")},style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#ddd",border:"none",borderRadius:"5px",cursor:"pointer"}},a?"Don't have an account? Sign Up":"Already have an account? Login"))}function s(){const[e,t]=Object(n.useState)(null);return l.a.createElement("div",null,l.a.createElement("h2",null,"Upload Image"),l.a.createElement("input",{type:"file",onChange:e=>t(e.target.files[0])}),l.a.createElement("button",{onClick:async()=>{const t=new FormData;t.append("image",e);try{await c.a.post("http://localhost:5000/image/upload",t),alert("Image Uploaded!")}catch(a){console.error("Error uploading image:",a),alert("Failed to upload image")}}},"Upload"))}var u=()=>{const[e,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{c.a.get("http://localhost:5000/image/images").then(e=>t(e.data)).catch(e=>console.error("Error fetching images:",e))},[]),l.a.createElement("div",null,l.a.createElement("h1",null,"Gallery Component")," ",l.a.createElement("h2",null,"Public Image Gallery")," ",0===e.length?l.a.createElement("p",null,"No images found."):l.a.createElement("div",{className:"image-gallery"},e.map((e,t)=>l.a.createElement("img",{key:t,src:"http://localhost:5000".concat(e.url),alt:"Uploaded ".concat(t+1),width:"200px"}))))};var d=function(){const[e,t]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{localStorage.removeItem("authToken")},[]),l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:"/p.jpg",alt:"logo ",width:"300",height:"150",style:{borderRadius:"10px"}}),l.a.createElement("h1",null,"Image Uploader & Public Gallery"),e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s,null),l.a.createElement(u,null)):l.a.createElement(i,{setIsAuthenticated:t})))};var p=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,27)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:o}=t;a(e),n(e),l(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d,null))),p()}},[[11,1,2]]]);
//# sourceMappingURL=main.c0528393.chunk.js.map